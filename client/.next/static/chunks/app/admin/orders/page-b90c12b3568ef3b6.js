(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{68422:function(e,t,s){Promise.resolve().then(s.bind(s,45518))},78063:function(e,t,s){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},s={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},c=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},a=function(e){return function(t,s,a,l){var r=c(t),d=n[e][c(t)];return 2===r&&(d=d[s?0:1]),d.replace(/%d/i,t)}},l=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:l,monthsShort:l,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,s){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return s[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}(s(42151))},45518:function(e,t,s){"use strict";s.r(t),s.d(t,{Modal:function(){return h}});var c=s(57437),n=s(67786),a=s(48065),l=s(7908),r=s(42151),d=s.n(r),i=s(2265);s(78063);var o=s(20703);s(8792),t.default=function(){d().locale("ar");let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)([]),[o,m]=(0,i.useState)(!1),x=async()=>{t((await l.Z.get("".concat("http://localhost:5000","/forms/payments"))).data),m(!0)};(0,i.useEffect)(()=>{x()},[]);let u=async e=>{try{await l.Z.put("".concat("http://localhost:5000","/forms/payment/accept/").concat(e._id),e),x()}catch(e){console.log(e)}},p=async e=>{try{await l.Z.put("".concat("http://localhost:5000","/forms/payment/rej/").concat(e)),x()}catch(e){console.log(e)}};return o?(0,c.jsx)("div",{className:"order-page px-5",style:{minHeight:"100vh"},children:(0,c.jsxs)("div",{className:"container",style:{minHeight:"100vh"},children:[(0,c.jsx)("div",{className:"header d-flex justify-content-between align-items-center",style:{height:"150px"},children:(0,c.jsx)("div",{className:"title",children:(0,c.jsx)("h1",{children:"الطلبات"})})}),e&&e.length>0?(0,c.jsxs)("div",{className:"content text-center",children:[(0,c.jsx)("div",{className:"info",style:{overflow:"auto"},children:(0,c.jsxs)("table",{className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{scope:"col",children:"رقم الطلب"}),(0,c.jsx)("th",{scope:"col",children:"المنتج"}),(0,c.jsx)("th",{scope:"col",children:"اجمالي التكلفة"}),(0,c.jsx)("th",{scope:"col",children:"رقم الهاتف"}),(0,c.jsx)("th",{scope:"col",children:"العميل"}),(0,c.jsx)("th",{scope:"col",children:"تاريخ الطلب"}),(0,c.jsx)("th",{scope:"col",children:"طريقة الدفع"}),(0,c.jsx)("th",{scope:"col",children:"تأكيد الدفع"}),(0,c.jsx)("th",{scope:"col",children:"حالة الطلب"})]})}),(0,c.jsx)("tbody",{children:e.map((e,t)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{scope:"row",children:t+1}),(0,c.jsx)("td",{children:e.productName}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{backgroundColor:"rgba(229, 250, 234, 1)",color:"#22C55E"},className:"px-3 py-1 mx-auto fw-bold rounded-2 d-block text-center ",children:e.price})}),(0,c.jsx)("td",{children:e.phone}),(0,c.jsx)("td",{children:e.name}),(0,c.jsx)("td",{children:(0,c.jsxs)("span",{className:"d-block w-100 px-2 py-1 text-secondary mx-auto text-center rounded-2",style:{backgroundColor:"#FAFAFA"},children:[(0,c.jsx)("i",{className:"bi bi-clock ms-2"}),d().utc(e.createdAt).local().startOf("seconds").fromNow()]})}),(0,c.jsx)("td",{children:e.payment}),(0,c.jsx)("td",{children:(0,c.jsxs)("span",{className:"d-block w-75 px-2 py-1 text-secondary mx-auto text-center rounded-2","data-bs-toggle":"modal","data-bs-target":"#imageOrder",style:{backgroundColor:"#FAFAFA",cursor:"pointer"},onClick:()=>{r(e.image)},children:[(0,c.jsx)("i",{className:"bi bi-eye ms-1"}),"عرض"]})}),(0,c.jsx)("td",{children:null==e.status?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{onClick:()=>{u(e)},className:"btn",style:{backgroundColor:"rgba(229, 250, 234, 1)",color:"#22C55E"},children:"موافقة"}),(0,c.jsx)("span",{className:"btn me-2",onClick:()=>{p(e._id)},style:{backgroundColor:"rgba(255, 103, 103, 0.38)",color:"#D32525"},children:"رفض"})]}):e.status?(0,c.jsxs)("span",{className:"btn d-flex align-items-center w-75 justify-content-center mx-auto",style:{backgroundColor:"rgba(229, 250, 234, 1)",color:"#22C55E"},children:[(0,c.jsx)("i",{className:"bi bi-check-circle-fill text-success ms-2"}),"نشط"]}):(0,c.jsxs)("span",{className:"btn d-flex align-items-center w-75 justify-content-center mx-auto",style:{backgroundColor:"rgba(255, 103, 103, 0.38)",color:"#D32525"},children:[(0,c.jsx)("i",{className:"bi bi-x-circle-fill text-danger ms-2"}),"ملغي"]})})]},e._id))})]})}),(0,c.jsx)("div",{className:"pagination",dir:"ltr",children:(0,c.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[(0,c.jsx)("button",{type:"button",className:"btn btn-primary",children:"التالي"}),(0,c.jsx)("button",{type:"button",className:"btn btn-light",children:"السابق"})]})}),(0,c.jsx)(h,{data:s})]}):(0,c.jsx)(n.Z,{title:"لم يتم استقبال اي رسائل مساعدات بعد",description:"رسائل الدعم سوف تظهر هنا"})]})}):(0,c.jsx)(a.Z,{})};let h=e=>{let{data:t}=e;return(0,c.jsx)("div",{children:(0,c.jsx)("div",{className:"modal fade",id:"imageOrder",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,c.jsx)("div",{className:"modal-dialog",children:(0,c.jsx)("div",{className:"modal-content",children:(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsx)(o.default,{src:"".concat("http://localhost:5000","/public/images/orders/").concat(t),alt:"image",width:450,height:300})})})})})})}},67786:function(e,t,s){"use strict";var c=s(57437),n=s(20703),a=s(8792);s(2265),t.Z=function(e){let{title:t,description:s,page:l}=e;return(0,c.jsxs)("div",{className:"component d-flex flex-column justify-content-center align-items-center",style:{minHeight:"calc(100vh - 150px)"},children:[(0,c.jsx)(n.default,{src:"/image/empty.png",alt:"Empty",width:75,height:135}),(0,c.jsx)("div",{className:"title my-3",children:(0,c.jsx)("h4",{children:t&&t})}),(0,c.jsx)("div",{className:"description",children:(0,c.jsx)("p",{className:"text-secondary",children:s&&s})}),"product"===l&&(0,c.jsx)(a.default,{href:"/admin/products/add-product",className:"btn btn-primary",children:"اضافة منتج"})]})}},48065:function(e,t,s){"use strict";var c=s(57437);s(2265),t.Z=function(){return(0,c.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,c.jsx)("div",{children:(0,c.jsx)("span",{className:"loader"})})})}}},function(e){e.O(0,[990,807,703,792,971,69,744],function(){return e(e.s=68422)}),_N_E=e.O()}]);