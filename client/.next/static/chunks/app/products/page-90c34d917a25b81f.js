(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{46769:function(e,t,s){Promise.resolve().then(s.bind(s,43159))},43159:function(e,t,s){"use strict";s.r(t);var a=s(57437),c=s(7908),n=s(20703),l=s(8792),r=s(2265),i=s(48065),d=s(49205),o=s(37730);s(42151),t.default=function(){let[e,t]=(0,r.useState)([]),[s,u]=(0,r.useState)(!1),[h,x]=(0,r.useState)(1),[m,p]=(0,r.useState)([]),[j,N]=(0,r.useState)(!1),[b,g]=(0,r.useState)(1),v=()=>{N(!0),g(1)},f=async()=>{try{await c.Z.get("".concat("http://localhost:5000","/products/")).then(e=>e.data).then(s=>{t([...e,...s]),u(!0)})}catch(e){console.log(e)}};(0,r.useEffect)(()=>{f()},[]),(0,r.useEffect)(()=>{u(!1);try{c.Z.get("".concat("http://localhost:5000","/products/").concat(h)).then(e=>e.data).then(e=>{p(e),u(!0)})}catch(e){console.log(e),u(!0)}},[h]);let w=e=>Math.floor((Date.now()-new Date(e).getTime())/864e5);return s?(0,a.jsxs)("div",{className:"products",children:[(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"title mt-5",children:(0,a.jsx)("h1",{children:"المنتجات"})}),(0,a.jsxs)("div",{className:"product-list mt-5",children:[(0,a.jsx)("div",{className:"row",children:m&&m.map(e=>(0,a.jsx)("div",{className:"col-lg-4 col-sm-12 p-5",children:(0,a.jsxs)("div",{className:"box-product",children:[3>w(e.createdAt)&&(0,a.jsx)("span",{className:"is-new rounded-3 text-light px-3 d-block p-1 mb-2",style:{backgroundColor:"rgba(37, 102, 211, 0.84)",width:"66px"},children:"جديد"}),0==e.count&&(0,a.jsx)("span",{className:"is-new rounded-3 text-light px-3 d-block p-1 mb-2 text-center",style:{backgroundColor:"#DE3932",width:"66px"},children:"منتهي"}),(0,a.jsx)("div",{className:"image-product",children:(0,a.jsxs)("div",{id:e.createdAt,className:"carousel slide",children:[(0,a.jsx)("div",{className:"carousel-inner",children:e&&e.image.map((e,t)=>(0,a.jsx)("div",{className:"carousel-item ".concat(0==t?"active":""),children:(0,a.jsx)(n.default,{src:"".concat("http://localhost:5000","/public/images/products/").concat(e),className:"d-block w-100",alt:"product-images",width:345,height:190})},e))}),(0,a.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#".concat(e.createdAt),"data-bs-slide":"prev",children:[(0,a.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,a.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,a.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":"#".concat(e.createdAt),"data-bs-slide":"next",children:[(0,a.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,a.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})}),(0,a.jsx)("div",{className:"title-product",children:(0,a.jsx)("h1",{children:e&&e.name})}),(0,a.jsx)("div",{className:"description-product",children:e&&e.description}),(0,a.jsxs)("div",{className:"buttons-box d-flex mt-5",children:[(0,a.jsx)("div",{className:"order-now",children:(0,a.jsx)("button",{type:"button",style:{cursor:0===e.count?"auto":"pointer"},className:"btn btn-primary fs-5 ms-5","data-bs-toggle":e.count>0?"modal":"",disabled:!(e.count>0),"data-bs-target":e.count>0?"#exampleModal":"",onClick:()=>{window.localStorage.setItem("price",e.price),window.localStorage.setItem("productName",e.name),v()},children:"اطلب الأن"})}),(0,a.jsx)("div",{className:"another-btn",children:(0,a.jsx)(l.default,{href:"/products/".concat(e&&e._id),className:"d-flex justify-content-center align-items-center",style:{backgroundColor:"#B8B8B8",width:"50px",height:"49px",borderRadius:"17px"},children:(0,a.jsx)(n.default,{src:"/icon/note.png",alt:"note",width:27,height:26})})})]})]})},e&&e._id))}),(0,a.jsx)("div",{dir:"ltr",className:"text-center",children:(0,a.jsx)(d.Z,{defaultCurrent:1,current:h,onChange:e=>{x(e)},total:Math.round(e.length/6*10)})})]})]}),(0,a.jsx)(o.Z,{isOpen:j,setIsOpen:N,step:b,setStep:g})]}):(0,a.jsx)(i.Z,{})}},48065:function(e,t,s){"use strict";var a=s(57437);s(2265),t.Z=function(){return(0,a.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"loader"})})})}}},function(e){e.O(0,[990,807,703,792,601,626,447,205,730,971,69,744],function(){return e(e.s=46769)}),_N_E=e.O()}]);